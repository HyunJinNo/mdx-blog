export const metadata = {
  title: "[íŠ¸ëŸ¬ë¸”ìŠˆíŒ…] Next.js + Module not found",
  description:
    "Next.js MDX ë¸”ë¡œê·¸ í”„ë¡œì íŠ¸ì—ì„œ Module not found ì˜¤ë¥˜ë¥¼ í•´ê²°í•œ ê³¼ì •ì— ëŒ€í•´ ê¸°ë¡í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.",
  date: new Date("2026-02-20"),
  category: "Front-end",
  tags: ["troubleshooting", "typescript", "nextjs", "fsd"],
  pin: false,
  imagePath: "/images/front-end/front-end.avif",
};

> **<u>Tags</u>**
>
> Troubleshooting, Typescript, Next.js, FSD

## 1. âœ… ê°œìš”

Next.js MDX ë¸”ë¡œê·¸ í”„ë¡œì íŠ¸ì—ì„œ `Module not found` ì˜¤ë¥˜ë¥¼ í•´ê²°í•œ ê³¼ì •ì— ëŒ€í•´ ê¸°ë¡í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.

## 2. â“ ë¬¸ì œ

### 2.1. âš ï¸ ì˜¤ë¥˜

> **<u>Tips</u>**
>
> ë°œìƒí•œ ë²„ê·¸ë¥¼ ê°„ëµíˆ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

ë‹¤ìŒ ì‚¬ì§„ê³¼ ê°™ì´ fs ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” `Module not found` ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.

![Module not found: Can't resolve 'fs'](/images/front-end/troubleshooting-nextjs-module-not-found/pic1.avif)

### 2.2. ğŸ–¥ï¸ ë°œìƒ í™˜ê²½

> **<u>Tips</u>**
>
> ìš´ì˜ì²´ì œ, ë¸Œë¼ìš°ì €, ì˜ì¡´ì„± ëª©ë¡ ë“±ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”.

- OS: MacOS
- Browser: Chrome
- Next.js 16.1.4

### 2.3. ğŸ•˜ ë°œìƒ ì¼ì‹œ

> **<u>Tips</u>**
>
> ë²„ê·¸ê°€ ë°œìƒí•œ ë‚ ì§œì™€ ì‹œê°„ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”. (Ex. 2024ë…„ 10ì›” 1ì¼, ì˜¤í›„ 3ì‹œ 30ë¶„)

- 2026ë…„ 2ì›” 20ì¼, ì˜¤í›„ 4ì‹œ 0ë¶„

## 3. ğŸ“– í•´ê²° ê³¼ì •

ë¨¼ì € ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì— ëŒ€í•´ ë¶„ì„í•˜ì˜€ìŠµë‹ˆë‹¤. ë¬¸ì œ ìƒí™©ì„ ë¶„ì„í•œ ê²°ê³¼
**fs ëª¨ë“ˆì€ ì„œë²„ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, fs ëª¨ë“ˆì„ ì‚¬ìš©í•˜ëŠ” ì„œë²„ ì¸¡ ì½”ë“œê°€ í´ë¼ì´ì–¸íŠ¸ ë²ˆë“¤ì— í¬í•¨ë˜ì–´ ë°œìƒí•œ ì˜¤ë¥˜**ì˜€ìŠµë‹ˆë‹¤.

ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•˜ìë©´, ë¨¼ì € ë‹¤ìŒê³¼ ê°™ì´ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì¸ `layout.tsx` íŒŒì¼ì—ì„œ
í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì¸ `SearchResultViewer`ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.

```typescript
/* @/app/layout.tsx */

import type { Metadata } from "next";
import "./globals.css";
import { Sidebar } from "@/widgets/sidebar";
import localFont from "next/font/local";
import { Header } from "@/widgets/header";
import { RecentlyUpdatedPostList } from "@/widgets/recentlyUpdatedPostList";
import { TrendingTagList } from "@/widgets/trendingTagList";
import { ScrollToTopButton } from "@/features/scrollToTop";
import { Footer } from "@/widgets/footer";
import { SearchResultViewer } from "@/widgets/searchResultViewer";
import { getAllPostList } from "@/entities/post";

const pretendardFont = localFont({
  src: "./PretendardVariable.woff2",
  weight: "100 900",
});

export const metadata: Metadata = {
  title: {
    default: "ë…¸í˜„ì§„'s Blog",
    template: "%s | ë…¸í˜„ì§„'s Blog",
  },
  description: "Generated by create next app",
};

export default async function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  const postList = await getAllPostList();

  return (
    <html
      lang="ko"
      className={pretendardFont.className}
      suppressHydrationWarning
    >
      <head>
        <link
          rel="icon"
          href="/images/icon/falling-star-logo.webp"
          sizes="any"
        />
        <script
          dangerouslySetInnerHTML={{
            __html: `(function () {
              try {
                const theme = localStorage.getItem("theme");

                if (theme === "dark") {
                  document.documentElement.classList.add("dark");
                }
              } catch (e) {}
            })();`,
          }}
        />
      </head>
      <body className="flex flex-row">
        <Sidebar />
        <div className="flex w-full flex-col pr-7 pl-75">
          <Header />
          <SearchResultViewer postList={postList} />
          <div className="mt-12 flex w-full flex-row justify-between gap-8 pl-6">
            <div className="flex w-full min-w-0 flex-col gap-12">
              {children}
              <Footer />
            </div>
            <div className="flex w-70 flex-col gap-16">
              <RecentlyUpdatedPostList />
              <TrendingTagList />
            </div>
          </div>
          <aside className="fixed right-20 bottom-15">
            <ScrollToTopButton />
          </aside>
        </div>
      </body>
    </html>
  );
}
```

ë˜í•œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì¸ `SearchResultViewer`ì—ì„œ FSD ì•„í‚¤í…ì²˜ì˜ entities ë ˆì´ì–´ì˜ `SearchResult` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.

```typescript
/* @/widgets/searchResultViewer/ui/SearchResultViewer.tsx */

"use client";

import { SearchResult } from "@/entities/post";
import { useSearchInputStore } from "@/features/searchPostListByTitle";
import { useEffect, useEffectEvent, useState } from "react";

interface SearchResultViewerProps {
  postList: {
    title: string;
    description: string;
    category: string;
    tagList: string[];
    postPath: string;
  }[];
}

export const SearchResultViewer = ({ postList }: SearchResultViewerProps) => {
  const [searchResultList, setSearchResultList] = useState<
    {
      title: string;
      description: string;
      category: string;
      tagList: string[];
      postPath: string;
    }[]
  >([]);

  const updateSearchResultList = useEffectEvent((input: string) => {
    setSearchResultList(
      postList.filter((post) =>
        post.title
          .replaceAll(" ", "")
          .toLowerCase()
          .includes(input.replaceAll(" ", "").toLowerCase()),
      ),
    );
  });

  const { input } = useSearchInputStore();

  useEffect(() => {
    updateSearchResultList(input);
  }, [input]);

  return (
    <div className="w-full px-6">
      {searchResultList.length === 0 ? (
        <div className="mt-24 flex items-center justify-center">
          <p className="text-custom-gray">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        </div>
      ) : (
        <div className="grid grid-cols-2 gap-x-12 gap-y-4">
          {searchResultList.map((post) => (
            <SearchResult
              key={post.postPath}
              title={post.title}
              description={post.description}
              category={post.category}
              tagList={post.tagList}
              postPath={post.postPath}
            />
          ))}
        </div>
      )}
    </div>
  );
};
```

```typescript
/* @/entities/ui/SearchResult.tsx */

import Link from "next/link";
import { FaRegFolder } from "@react-icons/all-files/fa/FaRegFolder";
import { FaTag } from "@react-icons/all-files/fa/FaTag";

interface SearchResultProps {
  title: string;
  description: string;
  category: string;
  tagList: string[];
  postPath: string;
}

export const SearchResult = ({
  title,
  description,
  category,
  tagList,
  postPath,
}: SearchResultProps) => {
  return (
    <article className="mt-12 flex flex-col gap-1">
      <header className="flex flex-col gap-2">
        <h2>
          <Link
            className="text-custom-blue text-2xl font-semibold underline-offset-4 hover:text-teal-500 hover:underline"
            href={`/posts/${postPath}`}
          >
            {title}
          </Link>
        </h2>
        <div className="text-custom-gray flex flex-row items-center gap-6 text-sm">
          <div className="flex flex-row items-center gap-1">
            <FaRegFolder className="text-xs" />
            {category}
          </div>
          <div className="flex flex-row items-center gap-1">
            <FaTag className="text-xs" />
            {tagList.join(", ")}
          </div>
        </div>
      </header>
      <p className="text-custom-gray">{description}</p>
    </article>
  );
};
```

ìœ„ì˜ ì½”ë“œë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´, `SearchResult` ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” fs ëª¨ë“ˆì„ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šì§€ë§Œ,
`SearchResultViewer`ì™€ `SearchResult` ë‘ ì»´í¬ë„ŒíŠ¸ëŠ” ë ˆì´ì–´ê°€ ì„œë¡œ ë‹¤ë¥´ë©° `@/entities/post/index.ts` íŒŒì¼ì„ í†µí•´
`SearchResult` ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜¤ê³  ìˆìŠµë‹ˆë‹¤. ì´ ë•Œ, `index.ts` íŒŒì¼ì€ ì•„ë˜ì™€ ê°™ì´ fs ëª¨ë“ˆì„ ì‚¬ìš©í•˜ëŠ” `getAllPostList.ts` íŒŒì¼ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

```typescript
/* @entities/post/index.ts */

export { getArchiveList } from "./model/getArchiveList";
export { getCategoryList } from "./model/getCategoryList";
export { getAllPostList } from "./model/getAllPostList";
export { getPostListByCategory } from "./model/getPostListByCategory";
export { getPostListByTag } from "./model/getPostListByTag";
export { getRecentlyUpdatedPostList } from "./model/getRecentlyUpdatedPostList";
export { getTagList } from "./model/getTagList";
export { getTrendingTagList } from "./model/getTrendingTagList";
export { type PostMetadata } from "./model/postMetadata";

export { SearchResult } from "./ui/SearchResult";
export { CategoryCard } from "./ui/CategoryCard";
export { PostCard } from "./ui/PostCard";
```

```typescript
/* @/entities/post/model/getAllPostList.ts */

import fs from "fs";
import path from "path";
import { PostMetadata } from "./postMetadata";

const postsDirectory = path.join(process.cwd(), "src/content");

export const getAllPostList = async () => {
  const fileList = fs.readdirSync(postsDirectory);

  const postList = await Promise.all(
    fileList.reverse().map(async (file) => {
      const mod = await import(`@/content/${file}`);
      const metadata: PostMetadata = mod.metadata;

      return {
        title: metadata.title,
        description: metadata.description,
        date: metadata.date,
        category: metadata.category,
        imagePath: metadata.imagePath,
        tagList: metadata.tags,
        postPath: file.split(".")[0],
      };
    }),
  );

  return postList;
};
```

![ê¸°ì¡´ í´ë” êµ¬ì¡°](/images/front-end/troubleshooting-nextjs-module-not-found/pic2.avif)

ì •ë¦¬í•˜ìë©´, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì¸ `SearchResultViewer` ì»´í¬ë„ŒíŠ¸ì—ì„œ `SearchResult` ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ `index.ts`ë¥¼ importí•  ë•Œ
fs ëª¨ë“ˆì„ ì‚¬ìš©í•˜ëŠ” ì„œë²„ ì „ìš© íŒŒì¼ê¹Œì§€ í•¨ê»˜ ê°€ì ¸ì™€ì„œ ë°œìƒí•œ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

```plaintext
SearchResultViewer (Client)
  â†“
entities/post/index.ts
  â†“
getAllPostList.ts (fs ì‚¬ìš©)
```

ì¦‰, ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ í•µì‹¬ì€ **ì„œë²„ ì¸¡ ì½”ë“œê°€ í´ë¼ì´ì–¸íŠ¸ ë²ˆë“¤ì— í¬í•¨ë˜ì§€ ì•Šë„ë¡ ë¶„ë¦¬í•˜ëŠ” ê²ƒ**ì´ì—ˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ `SearchResult` ì»´í¬ë„ŒíŠ¸ë¥¼ importí•  ë•Œ ì„œë²„ ì¸¡ ì½”ë“œê°€ í´ë¼ì´ì–¸íŠ¸ ë²ˆë“¤ì— í¬í•¨ë˜ì§€ ì•Šë„ë¡
`SearchResult.tsx` íŒŒì¼ì„ `SearchResultViewer.tsx` íŒŒì¼ê³¼ ê°™ì€ í´ë” ë‚´ì— ìœ„ì¹˜ì‹œí‚¤ë©´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìœ„ì™€ ê°™ì´ ë¬¸ì œë¥¼ í•´ê²°í•œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

![ë³€ê²½ ì´í›„ í´ë” êµ¬ì¡°](/images/front-end/troubleshooting-nextjs-module-not-found/pic3.avif)

![ë¬¸ì œ í•´ê²° ê²°ê³¼](/images/front-end/troubleshooting-nextjs-module-not-found/pic4.avif)

## 4. ğŸ“š ì°¸ê³  ìë£Œ

- [Module Not Found | Next.js](https://nextjs.org/docs/messages/module-not-found)
- [Next.jsì—ì„œ fsëª¨ë“ˆ ì‚¬ìš©í•˜ê¸° :: ModuleNotFoundError: Module not found: Error: Can't resolve 'fs' in](https://ppsu.tistory.com/entry/Nextjs%EC%97%90%EC%84%9C-fs%EB%AA%A8%EB%93%88-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-ModuleNotFoundError-Module-not-found-Error-Cant-resolve-fs-in)
