import { Video } from "@/shared/ui/video";

export const metadata = {
  title: "[íŠ¸ëŸ¬ë¸”ìŠˆíŒ…] React Native + Modal in FlatList",
  description:
    "React Native í”„ë¡œì íŠ¸ì—ì„œ FlatList ë‚´ Modalì„ ì‚¬ìš©í•˜ë©´ì„œ ë°œìƒí•œ ë¬¸ì œë¥¼ í•´ê²°í•œ ê³¼ì •ì— ëŒ€í•´ ê¸°ë¡í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.",
  date: "2025-02-18 15:12:49 +0900",
  categories: ["Front-end"],
  tags: ["troubleshooting", "typescript", "react-native", "mobile"],
  math: true,
  toc: true,
  pin: false,
  imagePath: "/images/front-end/react-native-logo.avif",
  comments: true,
};

> **<u>Tags</u>**
>
> Troubleshooting, TypeScript, React Native, Mobile

> **<u>Environment</u>**
>
> OS: Windows 11
>
> react-native v0.76.5

## 1. âœ… ê°œìš”

React Native í”„ë¡œì íŠ¸ì—ì„œ FlatList ë‚´ Modalì„ ì‚¬ìš©í•˜ë©´ì„œ ë°œìƒí•œ ë¬¸ì œë¥¼ í•´ê²°í•œ ê³¼ì •ì— ëŒ€í•´ ê¸°ë¡í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.

## 2. â“ ë¬¸ì œ

### 2.1. âš ï¸ ì˜¤ë¥˜

> **<u>Tips</u>**
>
> ë°œìƒí•œ ë²„ê·¸ë¥¼ ê°„ëµíˆ ì„¤ëª…í•´ ì£¼ì„¸ìš”.

ë‹¤ìŒ ì˜ìƒê³¼ ê°™ì´ Modal ë‚´ì˜ TextInputì„ í´ë¦­í•˜ì—¬ í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¤ëŠ” ê²½ìš° ì¼ë¶€ ìƒí™©ì—ì„œ Modalì´ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.

<Video
  src="/videos/front-end/troubleshooting-react-native-modal-in-flatlist/video1.webm"
  type="video/webm"
  width={360}
/>

### 2.2. ğŸ–¥ï¸ ë°œìƒ í™˜ê²½

> **<u>Tips</u>**
>
> ìš´ì˜ì²´ì œ, ë¸Œë¼ìš°ì €, ì˜ì¡´ì„± ëª©ë¡ ë“±ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”.

- OS: Android
- Galaxy S8+
- react-native v0.76.5

### 2.3. ğŸ•˜ ë°œìƒ ì¼ì‹œ

> **<u>Tips</u>**
>
> ë²„ê·¸ê°€ ë°œìƒí•œ ë‚ ì§œì™€ ì‹œê°„ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”. (Ex. 2024ë…„ 10ì›” 1ì¼, ì˜¤í›„ 3ì‹œ 30ë¶„)

- 2025ë…„ 2ì›” 18ì¼, ì˜¤í›„ 2ì‹œ 30ë¶„

## 3. ğŸ“– í•´ê²° ê³¼ì •

ë¨¼ì € ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì— ëŒ€í•´ ë¶„ì„í•˜ì˜€ìŠµë‹ˆë‹¤.
ë¬¸ì œ ìƒí™©ì„ ë¶„ì„í•œ ê²°ê³¼ Modal ì»´í¬ë„ŒíŠ¸ë¥¼ í¬í•¨í•˜ëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ê°€ TextInputì„ í´ë¦­í•¨ìœ¼ë¡œì¨ í‚¤ë³´ë“œì— ì˜í•´ ê°€ë ¤ì§ˆ ë•Œ Modalì´ í™”ë©´ì´ ì‚¬ë¼ì§€ëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.
ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ `React Native`ì˜ `FlatList`ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë°œìƒí•œ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

```typescript
/* TourItemList.tsx */

import React from "react";
import { FlatList, Image, Text, View } from "react-native";
import { tw } from "@src/libs/tailwind";
import { TourItem } from "./TourItem";
import { useTourItemList } from "@src/hooks/tour/useTourItemList";

export const TourItemList = () => {
  const { tourItemList } = useTourItemList();

  return (
    <View
      style={tw.style(
        tourItemList.length === 0 ? "bg-white" : "bg-[#F3F3F3]",
        "flex h-full flex-col justify-center px-4",
      )}
    >
      <FlatList
        contentContainerStyle={tw`flex flex-col`}
        data={tourItemList}
        renderItem={({ item }) => <TourItem data={item} />}
        keyExtractor={(item) => item.plan.planId.toString()}
        ListEmptyComponent={
          <View style={tw`flex flex-col items-center gap-[1.125rem]`}>
            <Image
              style={tw`h-16 w-16`}
              source={require("@src/assets/tour/tour-empty.png")}
            />
            <Text>ì•„ì§ ì €ì¥ëœ ì—¬í–‰ì´ ì—†ì–´ìš”</Text>
          </View>
        }
      />
    </View>
  );
};
```

```typescript
/* TourItemMenu.tsx */

import { COLOR } from "@src/constants/color";
import { useTourItemDelete } from "@src/hooks/tour/useTourItemDelete";
import { tw } from "@src/libs/tailwind";
import React, { useState } from "react";
import { ActivityIndicator, Image, Pressable, Text, View } from "react-native";
import { TourItemTitleModal } from "./TourItemTitleModal";

interface TourItemMenuProps {
  planId: number;
  planTitle: string;
}

export const TourItemMenu = ({ planId, planTitle }: TourItemMenuProps) => {
  const [menuVisible, setMenuVisible] = useState(false);
  const [modalVisible, setModalVisible] = useState(false);
  const { isPending, handleDeleteButtonClick } = useTourItemDelete(
    planId,
    planTitle,
  );

  return (
    <View style={tw`relative`}>
      {isPending ? (
        <ActivityIndicator style={tw`h-8 w-8`} color={COLOR.PRIMARY_GREEN} />
      ) : (
        <Pressable
          style={({ pressed }) =>
            tw.style(pressed && "bg-white", "rounded-lg p-1")
          }
          onPress={() => setMenuVisible((value) => !value)}
        >
          <Image
            style={tw`h-6 w-6`}
            source={require("@src/assets/common/menu-icon.png")}
          />
        </Pressable>
      )}
      {menuVisible && (
        <View
          style={tw`absolute right-1.5 top-8 z-10 flex w-20 flex-col rounded-lg bg-white shadow`}
        >
          <Pressable
            style={({ pressed }) =>
              tw.style(pressed && "bg-slate-100", "w-full")
            }
            onPress={() => {
              setMenuVisible(false);
              setModalVisible(true);
            }}
          >
            <Text style={tw`py-2.5 text-center`}>ìˆ˜ì •</Text>
          </Pressable>
          <Pressable
            style={({ pressed }) =>
              tw.style(pressed && "bg-slate-100", "w-full")
            }
            onPress={() => {
              setMenuVisible(false);
              handleDeleteButtonClick();
            }}
          >
            <Text style={tw`py-2.5 text-center`}>ì‚­ì œ</Text>
          </Pressable>
        </View>
      )}
      <TourItemTitleModal
        planId={planId}
        title={planTitle}
        modalVisible={modalVisible}
        closeModal={() => setModalVisible(false)}
      />
    </View>
  );
};
```

`React Native`ì˜ `FlatList`ëŠ” ê°€ìƒí™”ëœ ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ, í™”ë©´ì— ë³´ì´ëŠ” í•­ëª©ë§Œ ë Œë”ë§í•©ë‹ˆë‹¤.
ì´ë¥¼ ê³ ë ¤í•˜ì˜€ì„ ë•Œ í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¤ê¸° ì „ì—ëŠ” Modalì„ í¬í•¨í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë³´ì´ë¯€ë¡œ Modalì´ ì œëŒ€ë¡œ ë Œë”ë§ë˜ì§€ë§Œ,
TextInputì„ í´ë¦­í•¨ìœ¼ë¡œì¨ í‚¤ë³´ë“œê°€ ì˜¬ë¼ì™”ì„ ë•Œ í‚¤ë³´ë“œì— ì˜í•´ Modalì„ í¬í•¨í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ë©´
í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ `ì–¸ë§ˆìš´íŠ¸(unmount)`ë˜ì–´ ë©”ëª¨ë¦¬ì—ì„œ ì œê±°ë˜ê³ , Modal ì—­ì‹œ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.

ì¦‰, ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ í•µì‹¬ì€ **í‚¤ë³´ë“œê°€ ì˜¬ë¼ì™”ì„ ë•Œ Modalì„ í¬í•¨í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ë”ë¼ë„ Modalì˜ ë Œë”ë§ ìƒíƒœê°€ ìœ ì§€ë˜ì–´ì•¼ í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.**
ë”°ë¼ì„œ í™”ë©´ì— ë³´ì´ëŠ” í•­ëª©ë§Œ ë Œë”ë§í•˜ëŠ” `VirtualizedList`, `FlatList`, `SectionList`ë¥¼ ì‚¬ìš©í•´ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,
`ScrollView`ì™€ `map` ë©”ì„œë“œë¥¼ í™œìš©í•´ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•˜ë„ë¡ ë³€ê²½í•˜ë©´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`FlatList` ëŒ€ì‹  `ScrollView`ë¡œ ë³€ê²½í•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```typescript
/* TourItemList.tsx */

import React from "react";
import { Image, ScrollView, Text, View } from "react-native";
import { tw } from "@src/libs/tailwind";
import { TourItem } from "./TourItem";
import { useTourItemList } from "@src/hooks/tour/useTourItemList";

export const TourItemList = () => {
  const { tourItemList } = useTourItemList();

  return (
    <ScrollView
      style={tw.style(
        tourItemList.length === 0 ? "bg-white" : "bg-[#F3F3F3]",
        "flex h-full flex-col px-4",
      )}
    >
      {tourItemList.length === 0 ? (
        <View style={tw`flex flex-col items-center gap-[1.125rem]`}>
          <Image
            style={tw`h-16 w-16`}
            source={require("@src/assets/tour/tour-empty.png")}
          />
          <Text>ì•„ì§ ì €ì¥ëœ ì—¬í–‰ì´ ì—†ì–´ìš”</Text>
        </View>
      ) : (
        tourItemList.map((item) => (
          <TourItem key={item.plan.planId} data={item} />
        ))
      )}
    </ScrollView>
  );
};
```

ìœ„ì™€ ê°™ì´ ë¬¸ì œë¥¼ í•´ê²°í•œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

<Video
  src="/videos/front-end/troubleshooting-react-native-modal-in-flatlist/video2.webm"
  type="video/webm"
  width={360}
/>

## 4. ğŸ“š ì°¸ê³  ìë£Œ

- [Modal Â· React Native](https://reactnative.dev/docs/modal)
- [VirtualizedList Â· React Native](https://reactnative.dev/docs/virtualizedlist)
- [FlatList Â· React Native](https://reactnative.dev/docs/flatlist)
- [ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œ ê°•ì¢Œ. 8í¸ - ë¦¬ìŠ¤íŠ¸ ë Œë”ë§í•˜ê¸° ê·¸ë¦¬ê³  FlatList, SectionList ì‚¬ìš©í•˜ê¸°](https://mycodings.fly.dev/blog/2024-06-29-react-native-tutorial-8-list-rendering-flatlist-sectionlist)
